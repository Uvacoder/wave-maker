{"version":3,"sources":["script.js"],"names":["doc","document","$","tinyLib","isCmdPressed","svg","get","targetPath","popup","popupOpenedClass","popupToggle","code","codeOutput","codeButton","waveTypesItems","pathCoordsAttrs","attrsClass","itemClass","itemLineClass","inputClass","inputErrorClass","labelClass","labelLineClass","labelHiddenClass","errorClass","pathCoordsList","prop","desc","min","max","pathParams","pathParamsList","flags","flagsList","type","disableCond","value","inputsToDisable","wavesInputsList","radiowave","startX","startY","rX","rY","endY","endX","xRot","largeArc","sweep","repeat","rotateSweep","rotateLargeArc","strokeWidthBtn","seawave","repeatBtn","lightbulbs","cursive","bubbles","leaves","circle","hidden","Arc","params","path","hasControls","startLetter","arcLetter","strokeWidth","pathCoordsInputs","undefined","addHelpers","addControls","getPathCoords","setPathCoords","addPathParams","list","target","itemIsLine","labelIsHidden","addWaveInputs","prototype","pathCoordsSet","key","item","isNaN","Math","round","pathVals","Object","values","pathCoords","join","attr","rect","elem","getBBox","addWaves","setAllHelperArcParams","setAllControlsParams","updateCode","that","controls","start","coordsFunc","getStartCoords","fill","targets","getMouseX","getMouseY","end","getEndCoords","set","elemSet","createNS","id","r","addClass","append","addEventListener","event","currentControl","onmousemove","drag","cx","cy","getRxCoords","arcHelpers","flipBoth","x","width","y","getRX","offset","offsetX","getRyCoords","height","getRY","offsetY","coords","apply","call","updateInputs","onmouseup","addHelperArc","flipSweep","flipLargeArc","flipArc","arcHelper","stroke","prepend","setHelperArcParams","arcParamsSet","assign","arcParams","map","changeValueByKeyboard","input","error","keyCode","step","shiftKey","ctrlKey","setInputWidth","checkValue","name","forEach","newValue","checked","disableInputs","createInput","create","cond","disabled","push","createLabel","label","for","html","createError","items","setIsCmd","unSetIsCmd","inputId","inputValue","wavesParamsSet","i","addWave","wavesParams","counter","waveWidth","arcParamsVals","cloneParams","getViewBoxByPath","bbBox","viewBox","getCode","newParams","clone","newArc","newPath","newPathElem","removeAttribute","copyRect","strokeWidthHalf","result","outerHTML","output","val","changeContentHeight","prefix","demoPath","button","style","minWidth","length","errorElem","classList","remove","add","stopPropagation","parent","parentNode","contains","closeOpened","toggle","popupPanel","removeClass","container","querySelector","content","maxHeight","scrollHeight","arc"],"mappings":"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","file":"script.js","sourcesContent":["'use strict';\n\nvar doc = document;\nvar $ = tinyLib;\nvar isCmdPressed = false;\n\nvar svg = $.get('.svg');\nvar targetPath = $.get('.shape-arc');\n\nvar popup = $.get('.popup');\nvar popupOpenedClass = 'popup--opened';\nvar popupToggle = $.get('.popup__toggle');\n\nvar code = $.get('.code');\nvar codeOutput = $.get('.code__textarea');\nvar codeButton = $.get('.code__toggle');\n\nvar waveTypesItems = $.get('.wave-types__items');\n\nvar pathCoordsAttrs = $.get('.path-coords__attrs');\nvar attrsClass = 'attrs';\nvar itemClass = attrsClass + '__item';\nvar itemLineClass = itemClass + '--line';\nvar inputClass = attrsClass + '__input';\nvar inputErrorClass = inputClass + '--error';\nvar labelClass = attrsClass + '__label';\nvar labelLineClass = labelClass + '--line';\nvar labelHiddenClass = labelClass + '--hidden';\nvar errorClass = attrsClass + '__error';\n\nvar pathCoordsList = [{\n    prop: 'startLetter'\n  },\n  {\n    prop: 'startX',\n    desc: 'start X'\n  },\n  {\n    prop: 'startY',\n    desc: 'start Y'\n  },\n  {\n    prop: 'arcLetter'\n  },\n  {\n    prop: 'rX',\n    desc: 'rx',\n    min: 0\n  },\n  {\n    prop: 'rY',\n    desc: 'ry',\n    min: 0\n  },\n  {\n    prop: 'xRot',\n    desc: 'x-axis-rotation',\n  },\n  {\n    prop: 'largeArc',\n    desc: 'large-arc-flag',\n    min: 0,\n    max: 1\n  },\n  {\n    prop: 'sweep',\n    desc: 'sweep-flag',\n    min: 0,\n    max: 1\n  },\n  {\n    prop: 'endX',\n    desc: 'end X'\n  },\n  {\n    prop: 'endY',\n    desc: 'end Y'\n  },\n];\n\nvar pathParams = $.get('.path-params');\nvar pathParamsList = [{\n    prop: 'repeat',\n    desc: 'repeat',\n    min: 0\n  },\n  {\n    prop: 'strokeWidth',\n    desc: 'stroke-width',\n    min: 1\n  }\n];\n\nvar flags = $.get('.flags');\nvar flagsList = [\n  {\n    prop: 'rotateLargeArc',\n    desc: 'larg-arc-flag',\n    type: 'checkbox',\n    disableCond: {\n      prop: 'repeat',\n      value: 0\n    }\n  },\n  {\n    prop: 'rotateSweep',\n    desc: 'sweep-flag',\n    type: 'checkbox',\n    disableCond: {\n      prop: 'repeat',\n      value: 0\n    }\n  }\n];\n\nvar inputsToDisable = [];\n\nvar wavesInputsList = {\n  radiowave: {\n    startX: 150,\n    startY: 200,\n    rX: 80,\n    rY: 100,\n    endY: 200,\n    endX: 300,\n    xRot: 0,\n    largeArc: 0,\n    sweep: 0,\n    repeat: 4,\n    rotateSweep: true,\n    rotateLargeArc: false,\n    strokeWidthBtn: 18\n  },\n  seawave: {\n    startX: 150,\n    startY: 200,\n    rX: 80,\n    rY: 100,\n    endX: 300,\n    endY: 200,\n    xRot: 0,\n    largeArc: 0,\n    sweep: 0,\n    repeat: 4,\n    repeatBtn: 2,\n    rotateSweep: false,\n    rotateLargeArc: false,\n    strokeWidthBtn: 11\n  },\n  lightbulbs: {\n    startX: 150,\n    startY: 200,\n    rX: 80,\n    rY: 80,\n    endX: 250,\n    endY: 200,\n    xRot: 0,\n    largeArc: 1,\n    sweep: 1,\n    repeat: 6,\n    rotateSweep: true,\n    rotateLargeArc: false,\n    strokeWidthBtn: 21\n  },\n  cursive: {\n    startX: 150,\n    startY: 200,\n    rX: 20,\n    rY: 90,\n    endX: 300,\n    endY: 200,\n    xRot: 60,\n    largeArc: 1,\n    sweep: 0,\n    repeat: 4,\n    rotateSweep: true,\n    rotateLargeArc: false,\n    strokeWidthBtn: 20\n  },\n  bubbles: {\n    startX: 150,\n    startY: 220,\n    rX: 80,\n    rY: 80,\n    endX: 230,\n    endY: 130,\n    xRot: 0,\n    largeArc: 0,\n    sweep: 0,\n    repeat: 7,\n    rotateSweep: true,\n    rotateLargeArc: true,\n    strokeWidthBtn: 16\n  },\n  leaves: {\n    startX: 150,\n    startY: 220,\n    rX: 160,\n    rY: 200,\n    endX: 230,\n    endY: 50,\n    xRot: 0,\n    largeArc: 0,\n    sweep: 1,\n    repeat: 7,\n    rotateSweep: false,\n    rotateLargeArc: false,\n    strokeWidthBtn: 15\n  },\n  circle: {\n    hidden: true,\n    startX: 200,\n    startY: 50,\n    rX: 100,\n    rY: 100,\n    endX: 200,\n    endY: 300,\n    xRot: 0,\n    largeArc: 0,\n    sweep: 0,\n    repeat: 1,\n    rotateSweep: false,\n    rotateLargeArc: true\n    }\n};\n\n//---------------------------------------------\n\nvar Arc = function (params) {\n\n  this.params = params;\n  this.path = params.path || targetPath;\n  this.hasControls = params.hasControls || false;\n  this.startLetter = 'M';\n  this.arcLetter = 'A';\n  this.startX = params.startX || 150;\n  this.startY = params.startY || 200;\n  this.endX = params.endX || 400;\n  this.endY = params.endY || 200;\n  this.rX = params.rX || 130;\n  this.rY = params.rY || 120;\n  this.xRot = params.xRot || 0;\n  this.largeArc = params.largeArc || 0;\n  this.sweep = params.sweep || 0;\n  this.repeat = params.repeat || 0;\n  this.strokeWidth = params.strokeWidth || 5;\n  this.pathCoordsInputs = [];\n\n  this.rotateSweep = params.rotateSweep !== undefined ? params.rotateSweep : true;\n  this.rotateLargeArc = params.rotateLargeArc !== undefined ? params.rotateLargeArc : false;\n\n  if (this.hasControls) {\n    this.addHelpers();\n    this.addControls();\n\n  }\n  this.getPathCoords();\n  this.setPathCoords();\n\n  if (this.hasControls) {\n    this.addPathParams({\n      list: pathCoordsList,\n      target: pathCoordsAttrs,\n      itemIsLine: false,\n      labelIsHidden: true,\n    });\n    this.addPathParams({\n      list: pathParamsList,\n      target: pathParams,\n      itemIsLine: true,\n      labelIsHidden: false,\n    });\n    this.addPathParams({\n      list: flagsList,\n      target: flags,\n      itemIsLine: true,\n      labelIsHidden: false,\n    });\n\n    this.addWaveInputs();\n  }\n};\n\n//---------------------------------------------\n\nArc.prototype.getPathCoords = function () {\n  this.pathCoordsSet = {\n    startLetter: this.startLetter,\n    startX: this.startX,\n    startY: this.startY,\n    arcLetter: this.arcLetter,\n    rX: this.rX,\n    rY: this.rY,\n    xRot: this.xRot,\n    largeArc: this.largeArc,\n    sweep: this.sweep,\n    endX: this.endX,\n    endY: this.endY\n  };\n\n  for (var key in this.pathCoordsSet) {\n    var item = this.pathCoordsSet[key];\n    if (!isNaN(item)) {\n      this.pathCoordsSet[key] = Math.round(item);\n    }\n  }\n\n  var pathVals = Object.values(this.pathCoordsSet);\n  this.pathCoords = pathVals.join(' ');\n};\n\n//---------------------------------------------\n\nArc.prototype.setPathCoords = function () {\n  this.path.attr({\n    'd': this.pathCoords,\n    'stroke-width': this.strokeWidth\n  });\n  this.path.rect = this.path.elem.getBBox();\n\n  this.addWaves();\n\n  if(this.hasControls) {\n    this.setAllHelperArcParams();\n    this.setAllControlsParams();\n    this.updateCode();\n  }\n};\n\n//---------------------------------------------\n\nArc.prototype.addControls = function () {\n  var that = this;\n  this.controls = {\n    start: {\n      coordsFunc: this.getStartCoords,\n      fill: 'greenyellow',\n      targets: {\n        'startX': getMouseX,\n        'startY': getMouseY\n      }\n    },\n    end: {\n      coordsFunc: this.getEndCoords,\n      fill: 'greenyellow',\n      targets: {\n        'endX': getMouseX,\n        'endY': getMouseY\n      }\n    },\n    // I dont't know how to place them on path\n    // with rotation and if startY != endY\n    // rx: {\n    //   coordsFunc: this.getRxCoords,\n    //   targets: {\n    //     'rX': this.getRX\n    //   }\n    // },\n    // ry: {\n    //   coordsFunc: this.getRyCoords,\n    //   targets: {\n    //     'rY': this.getRY\n    //   }\n    // }\n  };\n\n  for (var key in this.controls) {\n    var set = this.controls[key];\n    set.elemSet = $.createNS('circle')\n      .attr({\n        id: key,\n        r: 7\n      })\n      .addClass('point-control');\n\n    svg.append(set.elemSet);\n\n    set.elemSet.elem.addEventListener('mousedown', function (event) {\n      that.currentControl = that.controls[this.id];\n      doc.onmousemove = function (event) {\n        that.drag(event);\n      }\n    });\n  }\n};\n\n//---------------------------------------------\n\nArc.prototype.getStartCoords = function () {\n  return {\n    cx: this.startX ? this.startX : 0,\n    cy: this.startY ? this.startY : 0\n  }\n};\n\n//---------------------------------------------\n\nArc.prototype.getEndCoords = function () {\n  return {\n    cx: this.endX ? this.endX : 0,\n    cy: this.endY ? this.endY : 0\n  }\n};\n\n//---------------------------------------------\n\nArc.prototype.getRxCoords = function () {\n  return {\n    cx: (this.arcHelpers.flipBoth.rect.x + this.arcHelpers.flipBoth.rect.width),\n    cy: (this.arcHelpers.flipBoth.rect.y + this.rY)\n  }\n};\n\nArc.prototype.getRX = function (event) {\n  var rect = this.arcHelpers.flipBoth.rect;\n  var offset = event.offsetX - (rect.x + rect.width);\n  var rX = this.rX + offset;\n  return rX;\n};\n\n//---------------------------------------------\n\nArc.prototype.getRyCoords = function () {\n  return {\n    cx: (this.path.rect.x + this.path.rect.width / 2),\n    cy: (this.path.rect.y + this.path.rect.height)\n  }\n};\n\nArc.prototype.getRY = function (event) {\n  var rect = this.path.rect;\n  var offset = event.offsetY - (rect.y + rect.height);\n  var rY = this.rY + offset;\n  return rY;\n}\n\n//---------------------------------------------\n\nArc.prototype.setAllControlsParams = function () {\n  for (var key in this.controls) {\n    var set = this.controls[key];\n    var coords = set.coordsFunc.apply(this);\n\n    set.elemSet.attr({\n      cx: coords.cx,\n      cy: coords.cy,\n    });\n  }\n};\n\n//---------------------------------------------\n\nArc.prototype.drag = function (event) {\n  var x = event.offsetX;\n  var y = event.offsetY;\n  var targets = this.currentControl.targets;\n\n  for (var target in targets) {\n    this[target] = targets[target].call(this, event);\n  }\n\n  this.getPathCoords();\n  this.setPathCoords();\n  this.updateInputs();\n\n  doc.onmouseup = function () {\n    doc.onmousemove = null;\n    this.currentControl = null;\n  };\n};\n\n//---------------------------------------------\n\nArc.prototype.addHelpers = function () {\n  this.arcHelpers = {};\n  this.arcHelpers.flipBoth = this.addHelperArc({\n    id: 'arcHelper-flipSweepAndArc',\n    flipSweep: true,\n    flipLargeArc: true,\n    // stroke: 'seagreen'\n  });\n  this.arcHelpers.flipArc = this.addHelperArc({\n    id: 'arcHelper-flipArc',\n    flipSweep: false,\n    flipLargeArc: true,\n    // stroke: 'orangered'\n  });\n  this.arcHelpers.flipSweep = this.addHelperArc({\n    id: 'arcHelper-flipSweep',\n    flipSweep: true,\n    flipLargeArc: false,\n    // stroke: 'royalblue'\n  });\n\n  this.arcHelpers.list = [\n    this.arcHelpers.flipBoth,\n    this.arcHelpers.flipArc,\n    this.arcHelpers.flipSweep\n  ];\n};\n\n//---------------------------------------------\n\nArc.prototype.addHelperArc = function (params) {\n  var arcHelper = {};\n  arcHelper.params = params;\n  arcHelper.elemSet = $.createNS('path')\n    .attr({\n      'id': params.id,\n      'fill': 'none',\n      'stroke': params.stroke || '#999'\n    });\n\n  svg.prepend(arcHelper.elemSet);\n  return arcHelper;\n};\n\n//---------------------------------------------\n\nArc.prototype.setHelperArcParams = function (arcHelper) {\n  var arcParamsSet = Object.assign({}, this.pathCoordsSet);\n\n  if (arcHelper.params) {\n    if (arcHelper.params.flipLargeArc) {\n      arcParamsSet.largeArc = +!arcParamsSet.largeArc;\n    }\n    if (arcHelper.params.flipSweep) {\n      arcParamsSet.sweep = +!arcParamsSet.sweep;\n    }\n  }\n\n  var arcParams = Object.values(arcParamsSet).join(' ');\n\n  arcHelper.elemSet.attr({\n    'd': arcParams\n  });\n  arcHelper.rect = arcHelper.elemSet.elem.getBBox();\n};\n\n//---------------------------------------------\n\nArc.prototype.setAllHelperArcParams = function () {\n  var that = this;\n  this.arcHelpers.list.map(function (item) {\n    that.setHelperArcParams(item);\n  });\n};\n\n//---------------------------------------------\n\nArc.prototype.changeValueByKeyboard = function (event, input, error) {\n  if (!(event.keyCode == 38 || event.keyCode == 40)) {\n    return;\n  }\n\n  var step = 1;\n\n  if (event.shiftKey && (event.ctrlKey || isCmdPressed)) {\n    step = 1000;\n  } else if (event.ctrlKey || isCmdPressed) {\n    step = 100;\n  } else if (event.shiftKey) {\n    step = 10;\n  }\n\n  if (event.keyCode === 38) {\n    input.value = +input.value + step;\n  } else {\n    input.value = +input.value - step;\n  }\n\n  setInputWidth.apply(input);\n\n  if (!checkValue.apply(input, [error])) {\n    return false;\n  }\n\n  this[input.name] = input.value;\n  this.getPathCoords();\n  this.setPathCoords();\n};\n\n//---------------------------------------------\n\nArc.prototype.updateInputs = function () {\n  var that = this;\n\n  this.pathCoordsInputs.forEach(function (item) {\n    var name = item.elem.name;\n    if (that[name] == null) {\n      return;\n    }\n    var value = +item.elem.value;\n    var newValue = that.pathCoordsSet[name] || that[name];\n\n    if (item.elem.type === 'checkbox') {\n      item.elem.checked = !!that[name];\n      return;\n    }\n\n    item.elem.value = newValue;\n\n    if (value !== newValue) {\n      setInputWidth.apply(item.elem);\n    }\n\n    disableInputs.call(item.elem);\n  });\n};\n\n//---------------------------------------------\n\nArc.prototype.createInput = function (item) {\n  var name = item.prop;\n  var value = this[name];\n\n  var input = $.create('input')\n    .attr({\n      type: item.type || 'text',\n      name: name,\n      id: name,\n      value: value\n    })\n    .addClass([\n      inputClass,\n      inputClass + '--' + name,\n      inputClass + '--' + typeof (value)\n    ]);\n\n  if (item.min !== undefined && item.min !== null) {\n    input.attr({\n      min: item.min\n    });\n  }\n  if (item.max) {\n    input.attr({\n      max: item.max\n    });\n  }\n  if (typeof (value) === 'string') {\n    input.attr({\n      'disabled': ''\n    });\n  }\n  else if (typeof (value) === 'boolean' && value === true) {\n    input.attr({\n      checked: value\n    });\n  }\n\n\n  if (item.disableCond) {\n    var cond = item.disableCond;\n\n    if (this[cond.prop] === cond.value) {\n      input.elem.disabled = true;\n    }\n\n    inputsToDisable.push({\n      input: input,\n      disableCond: item.disableCond\n    })\n  }\n\n  return input;\n};\n\n//---------------------------------------------\n\nArc.prototype.createLabel = function (item, params) {\n  var name = item.prop;\n  var value = this[name];\n\n  var label = $.create('label')\n    .attr({\n      for: name\n    })\n    .addClass(labelClass);\n\n  if (params.labelIsHidden) {\n    label.addClass(labelHiddenClass);\n  }\n  if (params.itemIsLine) {\n    label.addClass(labelLineClass);\n  }\n  label.html(item.desc);\n\n  return label;\n};\n\n//---------------------------------------------\n\nArc.prototype.createError = function (item) {\n  if (item.min === undefined && item.max === undefined) {\n    return null;\n  }\n  var error = $.create('span')\n    .addClass(errorClass);\n\n  return error;\n};\n\n//---------------------------------------------\n\nArc.prototype.addPathParams = function (params) {\n  var that = this;\n  var list = params.list;\n  var target = params.target;\n  var items = [];\n\n  list.forEach(function (item) {\n    var name = item.prop;\n    var value = that[name];\n\n    var input = that.createInput(item);\n\n    var label = that.createLabel(item, params);\n\n    var error = that.createError(item);\n\n    var item = $.create('span')\n      .addClass([\n        itemClass,\n        itemClass + '--' + name\n      ])\n      .append([input, label, error]);\n\n    if (params.itemIsLine) {\n      item.addClass(itemLineClass);\n    }\n\n    that.pathCoordsInputs.push(input);\n    items.push(item);\n\n    // Events\n    input.elem.addEventListener('input', function () {\n      if (this.type === 'checkbox') {\n        return;\n      }\n      setInputWidth.apply(this);\n      if (!checkValue.apply(this, [error])) {\n        return false;\n      }\n\n      that[this.name] = this.value;\n      that.getPathCoords();\n      that.setPathCoords();\n      disableInputs.call(this);\n    });\n\n    input.elem.addEventListener('keydown', function (event) {\n      if (this.type !== 'text') {\n        return;\n      }\n\n      setIsCmd(event);\n      that.changeValueByKeyboard(event, this, error);\n      disableInputs.call(this);\n    });\n\n    input.elem.addEventListener('keyup', function (event) {\n      unSetIsCmd(event);\n    });\n\n    input.elem.addEventListener('click', function (event) {\n      if (this.type != 'checkbox') {\n        return;\n      }\n\n      that[this.name] = this.checked;\n\n      that.getPathCoords();\n      that.setPathCoords();\n    });\n\n  });\n\n  target.append(items);\n};\n\n//---------------------------------------------\n\n// context: input\nfunction disableInputs () {\n  var inputId = this.id;\n  var inputValue = +this.value;\n\n  inputsToDisable.forEach(function (item) {\n    var input = item.input;\n    var cond = item.disableCond;\n\n    if (inputId === cond.prop) {\n      if (inputValue === cond.value) {\n        input.elem.disabled = true;\n      }\n      else {\n        input.elem.disabled = false;\n      }\n    }\n  });\n};\n\n//---------------------------------------------\n\nArc.prototype.addWaves = function () {\n  var wavesParamsSet = [this.pathCoords];\n  if (this.repeat === 0) {\n    return;\n  }\n\n  for (var i = 0; i < this.repeat; i++) {\n    wavesParamsSet.push(this.addWave(i));\n  }\n\n  var wavesParams = wavesParamsSet.join(' ');\n  this.path.attr({\n    'd': wavesParams\n  });\n};\n\n//---------------------------------------------\n\nArc.prototype.addWave = function (counter) {\n  var arcParamsSet = {};\n  var waveWidth = this.pathCoordsSet.endX - this.pathCoordsSet.startX;\n\n  for (var key in this.pathCoordsSet) {\n    arcParamsSet[key] = this.pathCoordsSet[key];\n  }\n\n  delete arcParamsSet['startLetter'];\n  delete arcParamsSet['startX'];\n  delete arcParamsSet['startY'];\n\n  arcParamsSet['endX'] = this.pathCoordsSet.endX + (waveWidth * (counter + 1));\n  if (counter % 2 === 0) {\n    if (this.rotateSweep) {\n      arcParamsSet['sweep'] = +!this.pathCoordsSet.sweep;\n    }\n    if (this.rotateLargeArc) {\n      arcParamsSet['largeArc'] = +!this.pathCoordsSet.largeArc;\n    }\n\n    arcParamsSet['endY'] = this.pathCoordsSet.startY;\n  }\n\n  var arcParamsVals = Object.values(arcParamsSet);\n  var arcParams = arcParamsVals.join(' ');\n  return arcParams;\n};\n\n//---------------------------------------------\n\nArc.prototype.cloneParams = function () {\n  var params = Object.assign({}, this.pathCoordsSet);\n  params.repeat = this.repeat;\n  params.rotateLargeArc = this.rotateLargeArc;\n  params.rotateSweep = this.rotateSweep;\n  params.strokeWidth = this.strokeWidth;\n\n  return params;\n};\n\n//---------------------------------------------\n\nfunction getViewBoxByPath(path) {\n  const bbBox = path.elem.getBBox();\n  const strokeWidth = +path.attr('stroke-width');\n  const width =  bbBox.width;\n  const height = bbBox.height;\n\n  var viewBox = [\n    bbBox.x - strokeWidth,\n    bbBox.y - strokeWidth,\n    width + strokeWidth * 2,\n    height + strokeWidth * 2\n  ];\n\n  viewBox = viewBox.map(function (item) {\n    return Math.round(item);\n  });\n  viewBox = viewBox.join(' ');\n\n  return viewBox;\n}\n\n//---------------------------------------------\n\nArc.prototype.getCode = function (params) {\n  var params = params;\n  var newParams = Object.assign({}, params);\n  newParams.path = this.path.clone()\n\n  if (newParams.strokeWidthBtn) {\n    newParams.strokeWidth = newParams.strokeWidthBtn;\n  }\n  if (newParams.repeatBtn) {\n    newParams.repeat = newParams.repeatBtn;\n  }\n\n  var newArc = new Arc(newParams);\n  var newPath = newArc.path;\n  var newPathElem = newPath.elem;\n  newPathElem.removeAttribute('class');\n\n  var copyRect = newPathElem.getBBox();\n  var strokeWidth = +newArc.strokeWidth;\n  var strokeWidthHalf = strokeWidth / 2;\n\n  newArc.startX -= copyRect.x - strokeWidthHalf;\n  newArc.startY -= copyRect.y - strokeWidthHalf;\n  newArc.endX -= copyRect.x - strokeWidthHalf;\n  newArc.endY -= copyRect.y - strokeWidthHalf;\n\n  newArc.getPathCoords();\n  newArc.setPathCoords();\n\n  var viewBox = getViewBoxByPath(this.path);\n\n  var result = `<svg viewBox=\"${viewBox}\">${newPathElem.outerHTML}</svg>`;\n  return result;\n};\n\n//---------------------------------------------\n\nArc.prototype.updateCode = function () {\n  var output = this.getCode(this.cloneParams());\n  codeOutput.val(output);\n\n  changeContentHeight.call(codeButton.elem);\n};\n\n//---------------------------------------------\n\nArc.prototype.addWaveInputs = function () {\n  var that = this;\n  var prefix = 'wave-types';\n  var items = [];\n\n  for (var key in wavesInputsList) {\n    var params = wavesInputsList[key];\n\n    if (params.hidden) {\n      continue;\n    }\n    var demoPath = this.getCode(params);\n\n    var button = $.create('button')\n      .attr({\n        type: 'button',\n        name: prefix,\n        id: key\n      })\n      .html(demoPath)\n      .addClass(prefix + '__button');\n\n    var item = $.create('div')\n      .addClass(prefix + '__item')\n      .append([button]);\n\n    items.push(item);\n\n    button.elem.addEventListener('click', function () {\n      var params = wavesInputsList[this.id];\n\n      for (var key in params) {\n        that[key] = params[key];\n      }\n\n      that.getPathCoords();\n      that.setPathCoords();\n      that.updateInputs();\n    });\n  }\n\n  waveTypesItems.append(items);\n\n  // Fix viewBox on examples\n  items.forEach(item => {\n    const svg = $.get('svg', item.elem);\n    const path = $.get('path', item.elem);\n    const viewBox = getViewBoxByPath(path);\n\n    svg.attr('viewBox', viewBox);\n  })\n};\n\n//---------------------------------------------\n\nfunction setInputWidth() {\n  if (this.type !== 'text') {\n    return;\n  }\n\n  this.style.minWidth = this.value.length * .65 + 'em';\n}\n\n//---------------------------------------------\n\nfunction checkValue(errorElem) {\n  if (!errorElem) {\n    return true;\n  }\n\n  errorElem.html('');\n  this.classList.remove(inputErrorClass);\n\n  if (isNaN(this.value)) {\n    errorElem.html('not a number');\n    this.classList.add(inputErrorClass);\n    return false;\n  } else if (this.min && this.value < this.min) {\n    this.classList.add(inputErrorClass);\n    errorElem.html('minimum: ' + this.min);\n    return false;\n  } else if (this.max && this.value > this.max) {\n    this.classList.add(inputErrorClass);\n    errorElem.html('maximum: ' + this.max);\n    return false;\n  }\n\n  return true;\n}\n\n//---------------------------------------------\n\nfunction setIsCmd(event) {\n  // Chrome || FF\n  if (event.keyCode == 91 || (event.key === 'Meta' && event.keyCode === 224)) {\n    isCmdPressed = true;\n  }\n}\n\nfunction unSetIsCmd(event) {\n  // Chrome || FF\n  if (event.keyCode == 91 || (event.key === 'Meta' && event.keyCode === 224)) {\n    isCmdPressed = false;\n  }\n}\ndoc.addEventListener('keyup', function (event) {\n  unSetIsCmd(event);\n});\n\n//---------------------------------------------\n\nfunction getMouseX(event) {\n  return event.offsetX;\n}\n\nfunction getMouseY(event) {\n  return event.offsetY;\n}\n\n//---------------------------------------------\n\n// Popup events\npopup.forEach(function (item) {\n  item.elem.addEventListener('click', function (event) {\n    event.stopPropagation();\n  });\n});\n\npopupToggle.forEach(function (item) {\n\n  item.elem.addEventListener('click', function (event) {\n    var parent = this.parentNode;\n\n    if (parent.classList.contains(popupOpenedClass)) {\n      parent.classList.remove(popupOpenedClass);\n    }\n    else {\n      closeOpened();\n      changeContentHeight.call(this);\n\n      parent.classList.toggle(popupOpenedClass);\n    }\n  });\n });\n\n\ndoc.addEventListener('click', function () {\n  closeOpened();\n});\n\nfunction closeOpened() {\n  var popupPanel = $.get('.' + popupOpenedClass);\n\n  if (popupPanel.elem) {\n    popupPanel.removeClass(popupOpenedClass);\n  }\n\n}\n\nfunction changeContentHeight() {\n  var parent = this.parentNode;\n  var container = parent.querySelector('.popup__container');\n  var content = parent.querySelector('.popup__content');\n\n  // trick to get real scrollHeight\n  content.style.maxHeight = '0';\n  container.style.maxHeight = (content.scrollHeight + 10) + 'px';\n  content.style.maxHeight = null;\n}\n\n//---------------------------------------------\n\nvar arc = new Arc({\n  path: targetPath,\n  hasControls: true\n});\n"]}